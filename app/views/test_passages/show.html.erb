<h1> Passing <%= @test_passage.test.title %> Test </h1>

<b> <%= @test_passage.current_question.body %> </b>

<p> Всего вопросов: <%= @test_passage.test.questions.count %> </p>

<p> Тукущий вопрос: <%= @test_passage.current_question_number %> </p>

<!-- вместо модели(model:) передадим конкретный url через хелпер роутинга на который отправим данную форму
так как хотим отправить непривязанные к конкретной модели данные -->
<!-- но будем использовать не POST а PUT http метод передав его в аргументы -->
<%= form_with url: test_passage_path(@test_passage), local: true, method: :put do |form| %>
	<!-- используем хелпер collection_check_boxes для того чтобы отобразить список чек боксов и ответов связанных с текущим вопросом. answer_ids будет параметр ответа выбранного на вопрос, далее передадим коллекцию объектов на основе которой будут сформированны чек боксы test_passage.current_question.answers, укажем метод который будет вызван для каждоко объекта из коллекции ответов и это значение будет отправлено на сервер в параметре answer_ids и далее укажем метод выводящий рядом с чек боксом текст ответа, :body, include_hidden: false отключим скрытый элемент в чек боксах-->
	<%= form.collection_check_boxes :answer_ids, @test_passage.current_question.answers, :id, :body, include_hidden: false do |b| %>
		<p>
			<%= b.check_box id: "answer_ids#{b.object.id}" %>
			<%= b.label %>
		</p>
	<% end %>

	<p><%= form.submit 'Next' %></p>
<% end %>