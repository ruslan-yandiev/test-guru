<h1><%= @test.title %> test</h1>
<!-- настройку опции local: true указали, чтобы в html формате отобразить вывод ошибок
иначе установленный  gem 'turbolinks' не позволит это сделать в виду его особенностей без спец настройки. -->
<%= form_with model: @test, local: true do |form| %>
	<!-- проверим на валидность вводимые в форму данные -->
	<!-- если экземпляр содержит какие то ошибки -->
  <% if @test.errors.present? %>
	 <div>
<!-- 	   хелпер pluralize в качестве аргумента принимает какое то число ошибок 
	  и вторым аргументом слово которое будет корректоно склоняться -->
	   <h2><%= pluralize(@test.errors.count, 'error') %> detected:</h2>

	   <ul>
	   	<!-- переберем массив ошибок и выведим их -->
	     <% @test.errors.full_messages.each do |message| %>
	       <li><%= message %></li>
	     <% end %>
	   </ul>
	 </div>
  <% end %>

  <p>
  	<%= form.label :title %> <br>
<!--   	хэш id: :test_title в качестве аргумента передали для того, чтобы при клике на слово title курсор 
  	перебрасывало на поле заполнения title и так мы для html тега imput зададим атрибут id который будет 
  	иметь то же значение как и для тега label   -->
    <%= form.text_field :title, id: :test_title %>
  </p>
  
  <p>
  	<%= form.label :level %> <br>
    <%= form.number_field :level, id: :test_level %>
  </p>

  <p>
  	<!-- Розволим вывести список категорий которые можно выбрать при создании теста -->
  	<%= form.label :category_id %>:
<!--   	у колекции массива с объектами полученных Category.all будут вызваны методы id и title
  	prompt: true опция позволяет показать подсказку в списке (выберите категорию)
  	также осуществляется связь id категории с category_id в тесте -->
  	<%= form.collection_select :category_id, Category.all, :id, :title, prompt: true %>
  </p>

  <p><%= form.submit %></p>
<% end %>